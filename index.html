<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>6 Days of Salad | High Vibe Healthy Fuel</title>
    <meta name="description" content="We craft unique, innovative and memorable salad experiences that leave a lasting impact through freshness and flavor.">

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@800&family=Montserrat:wght@400;600&family=Dancing+Script:wght@700&display=swap" rel="stylesheet">

    <!-- Google Analytics - Global Site Tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-NQHK7PXTP2"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-NQHK7PXTP2');
    </script>


    <style>
        :root {
            --primary-green: #2E7D32; /* A more natural, sophisticated green */
            --dark-text: #1a1a1a;
            --light-text: #FFFFFF;
            --bg-color: #FFFFFF; /* White theme */
            --section-height: 100vh;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Montserrat', sans-serif; /* New font for body */
            background-color: var(--bg-color);
            color: var(--dark-text);
            overscroll-behavior: none;
        }
        
        /* --- Fluid Background --- */
        #canvas-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 1;
        }

        /* --- Framed Layout --- */
        .frame {
            position: fixed;
            background-color: var(--bg-color);
            z-index: 50;
            display: flex;
            align-items: center;
            justify-content: center;
            text-transform: uppercase;
            font-weight: 600;
            font-size: 0.7rem; /* Reduced font size */
        }
        #frame-top { top: 0; left: 0; width: 100%; height: 50px; overflow: hidden; padding-left: 50px;}
        #frame-bottom {
            width: 100%;
            height: 50px;
            background-color: var(--bg-color);
            display: flex;
            align-items: center;
            justify-content: center;
            text-transform: uppercase;
            font-weight: 600;
            font-size: 0.7rem; /* Reduced font size */
        }
        #frame-left { top: 0; left: 0; width: 50px; height: 100%; }
        #frame-right { top: 0; right: 0; width: 50px; height: 100%; }
        
        /* --- Logo Styling and Animation --- */
        #logo-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 50px;
            height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 51;
            opacity: 0;
            transition: opacity 0.3s ease;
        }
        #logo-container.visible {
            opacity: 1;
        }
        #logo-container img {
            max-width: 30px;
            height: auto;
        }
        
        #hero-logo {
            position: absolute;
            top: 50%;
            right: 10%;
            transform: translateY(-50%);
            z-index: 11;
            transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
        }
         #hero-logo img {
            width: clamp(150px, 30vw, 400px);
            height: auto;
            transition: width 0.5s cubic-bezier(0.4, 0, 0.2, 1);
        }


        .vertical-text { writing-mode: vertical-rl; transform: rotate(180deg); }
        
        .marquee {
            white-space: nowrap;
            animation: marquee 20s linear infinite;
        }
        .marquee span {
            margin: 0 2rem;
            color: var(--primary-green);
        }
        @keyframes marquee {
            from { transform: translateX(0%); }
            to { transform: translateX(-50%); }
        }

        /* --- Main Content Wrapper --- */
        #wrapper {
            position: relative;
            z-index: 10;
            padding: 50px;
        }

        /* --- General Section Styling --- */
        .content-section {
            min-height: var(--section-height);
            display: flex;
            flex-direction: column;
            justify-content: center;
            padding: 4rem 0;
            position: relative;
        }
        
        /* --- Animated Headlines --- */
        .animated-headline {
            font-family: 'Playfair Display', serif; /* New font for headlines */
            font-size: clamp(2.5rem, 10vw, 6rem);
            font-weight: 800;
            text-transform: uppercase;
            line-height: 1.1;
        }
        .animated-headline .word { display: inline-block; overflow: hidden; }
        .animated-headline .word .char {
            display: inline-block;
            transform: translateY(110%);
            transition: transform 0.8s cubic-bezier(0.22, 1, 0.36, 1);
        }
        .animated-headline.in-view .word .char { transform: translateY(0); }
        .animated-headline .accent { color: var(--primary-green); }

        /* NEW: Cursive Headline */
        .cursive-headline {
            font-family: 'Dancing Script', cursive;
            font-size: clamp(5rem, 12vw, 8rem);
            font-weight: 700;
            line-height: 1;
            background: linear-gradient(45deg, #2E7D32, #55a630);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            text-fill-color: transparent;
            margin-bottom: 1rem;
        }
        
        .intro-text {
            max-width: 600px;
            font-size: 1.2rem;
            line-height: 1.7;
            margin-top: 2rem;
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 1s ease 0.5s, transform 1s ease 0.5s;
        }
        .intro-text.in-view { opacity: 1; transform: translateY(0); }

        /* --- Philosophy Section --- */
        #philosophy-section {
            height: 200vh;
            position: relative;
        }
        .philosophy-sticky-container {
            position: sticky;
            top: 0;
            height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            overflow: hidden;
        }
        #philosophy-title {
            font-family: 'Playfair Display', serif;
            font-size: clamp(2rem, 8vw, 5rem);
            font-weight: 800;
            text-transform: uppercase;
            color: var(--primary-green);
            position: absolute;
        }
        #philosophy-text {
            max-width: 700px;
            font-size: 1.5rem;
            line-height: 1.7;
            font-weight: 600;
            opacity: 0;
            position: absolute;
        }

        /* --- NEW: Horizontal Gallery --- */
        #gallery-section {
            height: 100vh;
            overflow: hidden;
            background-color: var(--dark-bg);
            position: relative;
            z-index: 15;
        }
        #gallery-track {
            display: flex;
            height: 100%;
            align-items: center;
            gap: 3rem;
            padding: 0 3rem;
        }
        .gallery-image-container {
            flex-shrink: 0;
            width: 40vh;
            height: 60vh;
            border-radius: 1.5rem;
            overflow: hidden;
            transform: perspective(1000px) rotateY(-15deg);
            box-shadow: -10px 10px 30px rgba(0,0,0,0.5);
        }
        .gallery-image {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        /* --- Product Section with Glassmorphism --- */
        .product-section {
            display: flex;
            align-items: center;
            justify-content: center;
            min-height: var(--section-height);
            position: relative;
        }
        .product-background-image {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: cover;
            z-index: 1;
        }
        .product-info {
            position: relative;
            z-index: 2;
            padding: 2rem;
            max-width: 50%;
            background: rgba(255, 255, 255, 0.2);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border: 1px solid rgba(0, 0, 0, 0.1);
            border-radius: 15px;
        }
        
        .product-section.align-left .product-info { margin-right: auto; }
        .product-section.align-right .product-info { margin-left: auto; }

        /* --- Scanner Animation --- */
        .scanner-line {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 4px;
            background-color: var(--primary-green);
            box-shadow: 0 0 15px var(--primary-green), 0 0 30px var(--primary-green);
            opacity: 0;
            transform: translateY(-10px);
            z-index: 3;
        }
        .product-section.scanning .scanner-line {
            opacity: 1;
            animation: scan-effect 1s ease-out forwards;
        }
        @keyframes scan-effect {
            from { transform: translateY(-10px); }
            to { transform: translateY(calc(100vh - 4px)); }
        }

        /* --- Billing Ticket --- */
        #ticket {
            position: fixed;
            bottom: 60px;
            right: 60px;
            width: 220px;
            background: #FFFFFF;
            color: var(--dark-text);
            font-family: monospace;
            padding: 0.8rem;
            z-index: 100;
            border-radius: 5px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.5);
            font-size: 0.8rem;
            line-height: 1.4;
            white-space: pre-wrap;
            opacity: 0;
            transform: translateY(20px);
            transition: all 0.5s ease;
        }
        #ticket.visible {
            opacity: 1;
            transform: translateY(0);
        }
        #ticket.hide-for-footer {
            opacity: 0;
            transform: translateY(20px);
        }
        #ticket-header, #ticket-footer { font-weight: bold; text-align: center; }
        #ticket-items {
            border-top: 1px dashed var(--dark-text);
            border-bottom: 1px dashed var(--dark-text);
            padding: 0.5rem 0;
            margin: 0.5rem 0;
            min-height: 120px;
        }
        .ticket-item {
            opacity: 0;
            transform: translateY(10px);
            max-height: 0;
            overflow: hidden;
            transition: all 0.4s ease-out;
        }
        .ticket-item.purchased {
            opacity: 1;
            transform: translateY(0);
            max-height: 50px;
            margin-bottom: 0.2rem;
        }
        .ticket-item .ref { font-size: 0.7rem; color: #666; }

        /* --- Questionnaire Section --- */
        #questionnaire-section {
            padding: 100px 20px;
        }
        .quiz-title {
            font-family: 'Playfair Display', serif;
            font-size: clamp(2.5rem, 8vw, 5rem);
            font-weight: 800;
            text-align: center;
            color: var(--primary-green);
            margin-bottom: 3rem;
        }
        .quiz-container {
            max-width: 700px;
            margin: auto;
            background: rgba(0, 0, 0, 0.05);
            backdrop-filter: blur(10px);
            border-radius: 24px;
            padding: 2rem;
            border: 1px solid rgba(0, 0, 0, 0.1);
        }
        .quiz-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
        }
        .quiz-question-counter {
            color: var(--primary-green);
            font-weight: 600;
        }
        .progress-bar-container {
            width: 128px;
            height: 8px;
            background: rgba(0, 0, 0, 0.2);
            border-radius: 4px;
        }
        .progress-bar {
            width: 25%;
            height: 100%;
            background: var(--primary-green);
            border-radius: 4px;
            transition: width 0.3s ease;
        }
        .quiz-question-text {
            font-size: 1.75rem;
            font-weight: 600;
            margin-bottom: 2rem;
        }
        .quiz-answers {
            display: grid;
            gap: 1rem;
        }
        .quiz-answer-btn {
            width: 100%;
            padding: 1rem;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(0, 0, 0, 0.2);
            border-radius: 12px;
            color: var(--dark-text);
            font-weight: 600;
            text-align: left;
            cursor: pointer;
            transition: all 0.2s ease;
        }
        .quiz-answer-btn:hover {
            background: rgba(0, 0, 0, 0.1);
            border-color: var(--primary-green);
        }
        .quiz-recommendation {
            text-align: center;
        }
        .hidden {
            display: none;
        }

        /* --- Footer --- */
        footer {
            text-align: center;
            padding: 8rem 2rem;
        }
        .contact-links { display: flex; justify-content: center; gap: 2rem; margin: 2rem 0; flex-wrap: wrap; }
        .contact-link {
            font-size: 1.5rem;
            font-weight: 800;
            color: var(--dark-text);
            text-decoration: none;
            transition: color 0.3s ease;
        }
        .contact-link:hover { color: var(--primary-green); }

        @media (max-width: 900px) {
            #wrapper { padding: 50px 20px; }
            #frame-left, #frame-right { display: none; }
            #frame-top { padding-left: 50px; }
            #logo-container { left: 10px; }
            .product-section .product-info { max-width: 90%; }
            #ticket { right: 10px; bottom: 60px; width: 180px; font-size: 0.7rem; }
            .contact-link { font-size: 1.2rem; }
            .quiz-question-text { font-size: 1.5rem; }
            #hero-logo { 
                right: 5%;
                top: 40%; /* Move logo up on mobile */
            }
        }
        
    </style>
</head>
<body>
    <canvas id="canvas-bg"></canvas>

    <div id="logo-container">
        <img src="images/logo.png" alt="6 Days of Salad Logo" onerror="this.style.display='none'">
    </div>
    <div id="frame-top" class="frame">
        <div class="marquee">
            <span>6 Days of Salad</span><span>•</span><span>HIGH VIBE</span><span>•</span><span>HEALTHY FUEL</span><span>•</span><span>GURGAON</span>
            <span>6 Days of Salad</span><span>•</span><span>HIGH VIBE</span><span>•</span><span>HEALTHY FUEL</span><span>•</span><span>GURGAON</span>
        </div>
    </div>
    
    <div id="frame-left" class="frame">
        <p class="vertical-text">Est. 2025</p>
    </div>
    <div id="frame-right" class="frame">
        <p class="vertical-text">The Salad Revolution</p>
    </div>

    <!-- The Billing Ticket -->
    <div id="ticket">
        <div id="ticket-header">6 DAYS OF SALAD</div>
        <div id="ticket-items">
            <!-- Items will be added here by JS -->
        </div>
        <div id="ticket-footer">Thanks for your visit!</div>
    </div>

    <div id="wrapper">
        <section id="landing" class="content-section">
             <div id="hero-logo">
                <img src="images/logo.png" alt="6 Days of Salad Logo" onerror="this.style.display='none'">
            </div>
            <h1 class="cursive-headline">6 Days of Salad</h1>
            <h2 class="animated-headline">
                <div class="word"><span>Your</span></div>
                <div class="word"><span>Week,</span></div>
                <div class="word"><span class="accent">Reimagined.</span></div>
            </h2>
        </section>

        <!-- NEW PHILOSOPHY SECTION -->
        <section id="philosophy-section">
            <div class="philosophy-sticky-container">
                <h2 id="philosophy-title">The 6-and-1 Philosophy</h2>
                <div id="philosophy-text">
                    <p>We believe wellness shouldn't be about restriction; it should be about balance. Our "6-and-1" approach is designed for the modern professional. Enjoy six days of delicious, nutrient-dense meals that fuel your body and mind, followed by one guilt-free day to savor whatever you crave. It's a sustainable, enjoyable path to a healthier you.</p>
                </div>
            </div>
        </section>

        <!-- NEW HORIZONTAL GALLERY -->
        <section id="gallery-section">
            <div id="gallery-track">
                <!-- Images will be added by JS -->
            </div>
        </section>

        <!-- QUESTIONNAIRE SECTION -->
        <section id="questionnaire-section" class="content-section">
            <div class="container mx-auto px-6">
                <h2 class="quiz-title">Find Your Perfect Dish</h2>
                <div class="quiz-container">
                    <div id="quiz-content">
                        <div class="quiz-header">
                            <span class="quiz-question-counter">Question 1 of 4</span>
                            <div class="progress-bar-container">
                                <div class="progress-bar" style="width: 25%;"></div>
                            </div>
                        </div>
                        <h3 class="quiz-question-text">Which age group are you?</h3>
                        <div class="quiz-answers">
                            <button class="quiz-answer-btn" data-value="20-30">20-30</button>
                            <button class="quiz-answer-btn" data-value="30-40">30-40</button>
                            <button class="quiz-answer-btn" data-value="40-50">40-50</button>
                            <button class="quiz-answer-btn" data-value="50+">50+</button>
                        </div>
                    </div>
                    <div id="quiz-recommendation" class="quiz-recommendation hidden">
                        <h3 class="quiz-question-text">We Recommend...</h3>
                        <h2 id="salad-recommendation" class="animated-headline accent" style="font-size: 2.5rem; margin-bottom: 1rem;"></h2>
                        <p id="salad-description" style="margin-bottom: 2rem;"></p>
                        <button class="quiz-answer-btn" id="restart-quiz" style="text-align: center;">Start Over</button>
                    </div>
                </div>
            </div>
        </section>

        <section id="product-energy" class="product-section align-left" data-item="ENERGY BOOST" data-ref="6DS-001">
            <img src="https://images.unsplash.com/photo-1708792635872-37db9841487b" class="product-background-image">
            <div class="scanner-line"></div>
            <div class="product-info">
                <h2 class="animated-headline">
                    <div class="word"><span>ENERGY</span></div>
                    <div class="word"><span class="accent">BOOST.</span></div>
                </h2>
                <p class="intro-text">Designed to fight fatigue with complex carbs and clean protein, keeping you sharp and focused all day long.</p>
            </div>
        </section>

        <section id="product-wellness" class="product-section align-right" data-item="WELLNESS PACK" data-ref="6DS-002">
             <img src="https://images.unsplash.com/photo-1606307305578-9f4121dde6d9" class="product-background-image">
             <div class="scanner-line"></div>
            <div class="product-info">
                <h2 class="animated-headline">
                    <div class="word"><span>WELLNESS</span></div>
                    <div class="word"><span class="accent">PACK.</span></div>
                </h2>
                <p class="intro-text">High in fiber and nutrients but low in calories, our salads keep you full and satisfied, helping you reach your goals.</p>
            </div>
        </section>
        
        <section id="product-focus" class="product-section align-left" data-item="FOCUS FUEL" data-ref="6DS-003">
            <img src="https://images.unsplash.com/photo-1571935538821-8ecb6b4dea17" class="product-background-image">
            <div class="scanner-line"></div>
            <div class="product-info">
                <h2 class="animated-headline">
                    <div class="word"><span>FOCUS</span></div>
                    <div class="word"><span class="accent">FUEL.</span></div>
                </h2>
                <p class="intro-text">Packed with Omega-3s and antioxidants to support brain health and keep you mentally sharp through the longest days.</p>
            </div>
        </section>

        <section id="product-balance" class="product-section align-right" data-item="WORK-FOOD BALANCE" data-ref="6DS-004">
             <img src="https://images.unsplash.com/photo-1515683359900-6922e4964be1" class="product-background-image">
             <div class="scanner-line"></div>
            <div class="product-info">
                <h2 class="animated-headline">
                    <div class="word"><span>WORK-FOOD</span></div>
                    <div class="word"><span class="accent">BALANCE.</span></div>
                </h2>
                <p class="intro-text">Don't let a busy schedule compromise your health. Our meals are designed for the modern professional, making healthy eating effortless.</p>
            </div>
        </section>

        <section id="product-vibrant" class="product-section align-left" data-item="VIBRANT PACK" data-ref="6DS-005">
            <img src="https://images.unsplash.com/photo-1561993098-270ea9e1711f" class="product-background-image">
            <div class="scanner-line"></div>
            <div class="product-info">
                <h2 class="animated-headline">
                    <div class="word"><span>VIBRANT</span></div>
                    <div class="word"><span class="accent">PACK.</span></div>
                </h2>
                <p class="intro-text">A colorful mix of the freshest ingredients to delight your senses and nourish your body from the inside out.</p>
            </div>
        </section>
        
        <footer>
            <h2 class="animated-headline">
                <div class="word"><span>LET'S</span></div>
                <div class="word"><span class="accent">TALK.</span></div>
            </h2>
            <div class="contact-links">
                <a href="mailto:6daysofsalad@gmail.com" class="contact-link">Email</a>
                <a href="https://www.instagram.com/6daysofsalad" target="_blank" class="contact-link">Instagram</a>
                <a href="https://wa.me/919211724290?text=Hi!%20What's%20on%20the%20menu%20today?" target="_blank" class="contact-link">WhatsApp</a>
            </div>
             <div class="footer-info">
                 <p>H222, Sushant Shopping Arcade, Sushant Lok 1, Gurgaon</p>
            </div>
        </footer>
    </div>
    <div id="frame-bottom" class="frame">
        <p>© 2025 6 Days of Salad. All Rights Reserved.</p>
    </div>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
    <script>
        // --- LIQUID BACKGROUND ANIMATION ---
        const canvas = document.getElementById('canvas-bg');
        const scene = new THREE.Scene();
        const camera = new THREE.OrthographicCamera(-1, 1, 1, -1, 0, 1);
        const renderer = new THREE.WebGLRenderer({ canvas: canvas, antialias: true });
        renderer.setSize(window.innerWidth, window.innerHeight);

        const uniforms = {
            u_time: { type: 'f', value: 0.0 },
            u_resolution: { type: 'v2', value: new THREE.Vector2(window.innerWidth, window.innerHeight) },
            u_mouse: { type: 'v2', value: new THREE.Vector2(0.5, 0.5) }
        };

        const geometry = new THREE.PlaneGeometry(2, 2);
        const material = new THREE.ShaderMaterial({
            uniforms: uniforms,
            fragmentShader: `
                uniform vec2 u_resolution;
                uniform float u_time;

                void main() {
                    vec2 st = gl_FragCoord.xy/u_resolution.xy;
                    float n = fract(sin(dot(st.xy, vec2(12.9898,78.233))) * 43758.5453123);
                    vec3 color = mix(vec3(0.95), vec3(0.85, 0.95, 0.85), smoothstep(0.4, 0.6, n + sin(u_time*0.1)*0.1));
                    gl_FragColor = vec4(color, 1.0);
                }
            `
        });

        const mesh = new THREE.Mesh(geometry, material);
        scene.add(mesh);

        function animateBg() {
            requestAnimationFrame(animateBg);
            uniforms.u_time.value += 0.01;
            renderer.render(scene, camera);
        }
        animateBg();

        window.addEventListener('resize', () => {
            renderer.setSize(window.innerWidth, window.innerHeight);
            uniforms.u_resolution.value.x = window.innerWidth;
            uniforms.u_resolution.value.y = window.innerHeight;
        });

        // --- TEXT & SCROLL ANIMATION LOGIC ---
        document.addEventListener('DOMContentLoaded', () => {
            gsap.registerPlugin(ScrollTrigger);

            // Text animation setup
            const animatedHeadlines = document.querySelectorAll('.animated-headline');
            animatedHeadlines.forEach(headline => {
                const text = headline.textContent.trim();
                headline.innerHTML = ''; // Clear original text
                const words = text.split(' ');
                words.forEach(word => {
                    const wordSpan = document.createElement('span');
                    wordSpan.className = 'word';
                    const isAccent = word.endsWith('.');
                    const cleanWord = word.replace('.', '');
                    
                    const innerSpan = document.createElement('span');
                    if (isAccent) innerSpan.className = 'accent';

                    cleanWord.split('').forEach((char, i) => {
                        const charSpan = document.createElement('span');
                        charSpan.className = 'char';
                        charSpan.textContent = char;
                        charSpan.style.transitionDelay = `${i * 0.03}s`;
                        innerSpan.appendChild(charSpan);
                    });
                    wordSpan.appendChild(innerSpan);
                    headline.appendChild(wordSpan);
                    headline.appendChild(document.createTextNode(' '));
                });
            });

            // Intersection Observer for all animations
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('in-view');
                    }
                });
            }, { threshold: 0.5 });

            document.querySelectorAll('.animated-headline, .intro-text').forEach(el => {
                observer.observe(el);
            });

            // --- Philosophy Scroll Animation ---
            const philosophySection = document.getElementById('philosophy-section');
            const philosophyTitle = document.getElementById('philosophy-title');
            const philosophyText = document.getElementById('philosophy-text');
            
            window.addEventListener('scroll', () => {
                const rect = philosophySection.getBoundingClientRect();
                const scrollPercent = -rect.top / (philosophySection.offsetHeight - window.innerHeight);
                const progress = Math.max(0, Math.min(1, scrollPercent));

                if (progress >= 0 && progress <= 1) {
                    const scale = 1 + progress * 15;
                    const opacity = 1 - progress * 2;
                    philosophyTitle.style.transform = `scale(${scale})`;
                    philosophyTitle.style.opacity = opacity;

                    const textOpacity = (progress - 0.5) * 2;
                    philosophyText.style.opacity = textOpacity;
                }
            });

            // --- Horizontal Gallery ---
            const gallery = document.getElementById('gallery-section');
            const track = document.getElementById('gallery-track');
            const images = [
                "https://images.unsplash.com/photo-1540189549336-e6e99c3679fe?q=80&w=1887&auto=format&fit=crop",
                "https://images.unsplash.com/photo-1565299624946-b28f40a0ae38?q=80&w=1981&auto=format&fit=crop",
                "https://images.unsplash.com/photo-1605034298551-baacf17591d1", // Replacement 1
                "https://images.unsplash.com/photo-1482049016688-2d3e1b311543?q=80&w=1910&auto=format&fit=crop",
                "https://images.unsplash.com/photo-1555939594-58d7cb561ad1?q=80&w=1887&auto=format&fit=crop",
                "https://images.unsplash.com/photo-1512621776951-a57141f2eefd?q=80&w=2070&auto=format&fit=crop",
                "https://images.unsplash.com/photo-1498837167922-ddd27525d352?q=80&w=2070&auto=format&fit=crop",
                "https://images.unsplash.com/photo-1662318183333-971ae1658e44", // Replacement 2
                "https://images.unsplash.com/photo-1473093295043-cdd812d0e601?q=80&w=2070&auto=format&fit=crop",
                "https://images.unsplash.com/photo-1467003909585-2f8a72700288?q=80&w=1887&auto=format&fit=crop",
            ];
            images.forEach(src => {
                track.innerHTML += `
                    <div class="gallery-image-container">
                        <img src="${src}" class="gallery-image" alt="Salad Image" />
                    </div>
                `;
            });

            gsap.to(track, {
                x: () => -(track.scrollWidth - gallery.clientWidth),
                ease: "none",
                scrollTrigger: {
                    trigger: gallery,
                    start: "top top",
                    end: () => "+=" + (track.scrollWidth - gallery.clientWidth),
                    scrub: true,
                    pin: true,
                    anticipatePin: 1,
                    invalidateOnRefresh: true
                }
            });


            // Ticket logic with scanner
            const ticket = document.getElementById('ticket');
            const ticketItemsContainer = document.getElementById('ticket-items');
            const productSections = document.querySelectorAll('.product-section');
            const purchasedItems = new Map();

            const ticketObserver = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    const productSection = entry.target;
                    const itemName = productSection.dataset.item;
                    const itemRef = productSection.dataset.ref;

                    if (entry.isIntersecting) {
                        if (!purchasedItems.has(itemName)) {
                            productSection.classList.add('scanning');
                            setTimeout(() => {
                                const ticketItem = document.createElement('div');
                                ticketItem.classList.add('ticket-item');
                                ticketItem.innerHTML = `${itemName} x1<br><span class="ref">REF: ${itemRef}</span>`;
                                ticketItemsContainer.appendChild(ticketItem);
                                setTimeout(() => ticketItem.classList.add('purchased'), 50);
                                
                                purchasedItems.set(itemName, ticketItem);

                                setTimeout(() => {
                                   productSection.classList.remove('scanning');
                                }, 500);
                            }, 1000);
                        }
                    } 
                });
            }, { threshold: 0.6 });

            productSections.forEach(section => {
                ticketObserver.observe(section);
            });
            
            const footer = document.querySelector('footer');
            const lastProduct = document.getElementById('product-vibrant');
            const showTicketObserver = new IntersectionObserver((entries) => {
                if(entries[0].isIntersecting) {
                    ticket.classList.add('visible');
                } else {
                    if (window.scrollY < lastProduct.offsetTop) {
                        ticket.classList.remove('visible');
                    }
                }
            }, {rootMargin: "0px 0px -200px 0px"});
            showTicketObserver.observe(lastProduct);

            const hideTicketObserver = new IntersectionObserver((entries) => {
                if(entries[0].isIntersecting) {
                    ticket.classList.add('hide-for-footer');
                } else {
                    ticket.classList.remove('hide-for-footer');
                }
            }, { threshold: 0.1 });
            hideTicketObserver.observe(footer);


            // --- QUIZ LOGIC ---
            const quizContent = document.getElementById('quiz-content');
            const recommendationDiv = document.getElementById('quiz-recommendation');
            const saladRecommendation = document.getElementById('salad-recommendation');
            const saladDescription = document.getElementById('salad-description');
            const restartQuizBtn = document.getElementById('restart-quiz');
            
            const questions = [
                { id: 'age', text: 'Which age group are you?', answers: ['20-30', '30-40', '40-50', '50+'] },
                { id: 'goal', text: 'What\'s your primary health goal?', answers: ['Lose Weight', 'Build Muscle', 'Boost Energy', 'A Light Meal'] },
                { id: 'flavor', text: 'What kind of flavors do you prefer?', answers: ['Creamy & Rich', 'Zesty & Tangy', 'Savory & Herby', 'Classic & Simple'] },
                { id: 'type', text: 'Are you looking for a Veg or Non-Veg option?', answers: ['Vegetarian', 'Non-Vegetarian'] }
            ];

            let currentQuestionIndex = 0;
            const userAnswers = {};

            function renderQuestion() {
                const question = questions[currentQuestionIndex];
                const quizHeader = `
                    <div class="quiz-header">
                        <span class="quiz-question-counter">Question ${currentQuestionIndex + 1} of ${questions.length}</span>
                        <div class="progress-bar-container">
                            <div class="progress-bar" style="width: ${((currentQuestionIndex + 1) / questions.length) * 100}%;"></div>
                        </div>
                    </div>
                    <h3 class="quiz-question-text">${question.text}</h3>
                    <div class="quiz-answers">
                        ${question.answers.map(answer => `<button class="quiz-answer-btn" data-value="${answer}">${answer}</button>`).join('')}
                    </div>
                `;
                quizContent.innerHTML = quizHeader;
                
                document.querySelectorAll('.quiz-answer-btn').forEach(button => {
                    button.addEventListener('click', handleAnswer);
                });
            }

            function handleAnswer(e) {
                userAnswers[questions[currentQuestionIndex].id] = e.target.dataset.value;
                currentQuestionIndex++;
                if (currentQuestionIndex < questions.length) {
                    renderQuestion();
                } else {
                    showRecommendation();
                }
            }

            function showRecommendation() {
                const { goal, type } = userAnswers;
                let recommendedSalad = "Chicken Caesar Salad";
                let description = "A classic choice that's always satisfying.";

                if (type === 'Vegetarian') {
                    if (goal === 'Lose Weight') {
                        recommendedSalad = "Sautéed Vegetables Salad";
                        description = "Light, warm, and packed with nutrients to help you meet your goals.";
                    } else {
                        recommendedSalad = "Creamy Corn & Spinach Sandwich";
                        description = "A hearty and delicious vegetarian option for a fulfilling meal.";
                    }
                } else { // Non-Vegetarian
                    if (goal === 'Build Muscle') {
                        recommendedSalad = "Grilled Chicken Pesto Sandwich";
                        description = "Packed with protein to help build muscle and satisfy serious hunger.";
                    } else if (userAnswers.flavor === 'Zesty & Tangy') {
                        recommendedSalad = "Chicken Pepper Salad";
                        description = "A vibrant and tangy salad to awaken your taste buds.";
                    } else {
                        recommendedSalad = "Chicken Caesar Salad";
                        description = "The perfect balance of creamy, savory, and classic flavors.";
                    }
                }

                saladRecommendation.textContent = recommendedSalad;
                saladDescription.textContent = description;
                quizContent.classList.add('hidden');
                recommendationDiv.classList.remove('hidden');
            }
            
            restartQuizBtn.addEventListener('click', () => {
                currentQuestionIndex = 0;
                Object.keys(userAnswers).forEach(key => delete userAnswers[key]);
                recommendationDiv.classList.add('hidden');
                quizContent.classList.remove('hidden');
                renderQuestion();
            });

            renderQuestion(); // Initial render

            // --- Logo Animation ---
            const heroLogo = document.getElementById('hero-logo');
            const fixedLogo = document.getElementById('logo-container');
            const landingSection = document.getElementById('landing');

            window.addEventListener('scroll', () => {
                const scrollPosition = window.scrollY;
                const heroHeight = landingSection.offsetHeight;

                if (scrollPosition > heroHeight / 2) {
                    fixedLogo.classList.add('visible');
                    heroLogo.style.opacity = '0';
                } else {
                    fixedLogo.classList.remove('visible');
                    heroLogo.style.opacity = '1';
                }
            });
        });

    </script>
</body>
</html>
